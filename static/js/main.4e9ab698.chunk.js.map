{"version":3,"sources":["redux/books/types.ts","redux/_constants.ts","redux/filters/types.ts","redux/books/reducer.ts","redux/filters/reducer.ts","redux/index.ts","redux/store.ts","redux/books/typeGuard.ts","redux/books/actionCreators.ts","components/ObserverProvider.tsx","assets/down-arrow.svg","redux/filters/actionCreators.ts","assets/up-arrow.svg","components/searchForm/InputContainer.tsx","components/searchForm/SelectFieldComponents/SelectLabel.tsx","components/searchForm/SelectFieldComponents/SelectFieldContainer.tsx","components/searchForm/SelectFieldComponents/SelectPopup.tsx","components/searchForm/IconContainer.tsx","components/searchForm/DatalistSelectField.tsx","assets/search.svg","components/searchForm/SearchField.tsx","components/searchForm/SelectField.tsx","components/SearchForm.tsx","components/Book.tsx","components/Shelf.tsx","assets/refresh.svg","components/Modal.tsx","pages/SearchingPage.tsx","App.tsx","index.tsx"],"names":["BooksActionTypes","FiltersActionTypes","initialState","items","loading","errors","totalItems","page","booksReducer","state","action","type","FETCH_SUCCESS","payload","FETCH_ADD_ITEMS","FETCH_REQUEST","FETCH_ERROR","newError","FETCH_TOTAL_ITEMS","FETCH_PAGE","FETCH_ADD_PAGE","newPage","sortBy","category","text","filtersReducer","SET_CATEGORY","SET_SORTBY","SET_TEXT","rootReducer","combineReducers","books","filters","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","createBooksFromAPIResponse","volumes","APIVolumes","newBooksStructure","map","item","id","imageLinks","volumeInfo","title","categories","authors","description","fetchBooksActionCreator","setErrorActionCreator","error","setPageActionCreator","addBooksActionCreator","fetchBooks","dispatch","a","getState","specificFields","axios","get","process","response","data","appBooks","isAxiosError","console","toJSON","message","ObserverProvider","_path","_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","children","divRef","React","useRef","useDispatch","useEffect","observer","IntersectionObserver","entry","isIntersecting","booksActions","root","rootMargin","threshold","observe","current","log","unobserve","cloneElement","ref","setCategoryActionCreator","setTextActionCreator","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDownArrow","_ref","svgRef","titleId","props","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","fill","d","ForwardRef","SvgUpArrow","InputContainer","styled","div","fluid","default","half","justify","widthOfField","InputLabel","label","selected","opened","SelectFieldContainer","small","regular","size","SelectPopup","open","className","onClick","e","contains","onClose","handleSelect","IconContainer","span","OptionsFilter","input","DatalistSelectField","_g16","value","placeholder","options","onChange","useState","openList","setOpenList","filter","includes","tabIndex","SvgSearch","StyledSearchField","disable","InputField","SearchField","required","handleSubmit","onKeyDown","event","code","preventDefault","Text","Select","optionItems","openItem","setOpenItems","Boolean","SearchForm","useSelector","filtersActions","resources","SelectField","option","sortby","Book","src","smallThumbnail","Shelf","values","book","SvgRefresh","Container","Modal","node","SearchingPage","openModal","setOpenModal","height","backgroundColor","AppContainerWithRef","forwardRef","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e9ab698.chunk.js","sourcesContent":["/**\r\n * expected server response\r\n */\r\nexport interface BookPayload {\r\n  totalItems: number;\r\n  items: BookType[];\r\n}\r\n\r\nexport interface BookResponse {\r\n  totalItems: number;\r\n  items: Array<{ id: string; volumeInfo: BookType }>;\r\n}\r\n\r\nexport interface ImageLinks {\r\n  smallThumbnail: string;\r\n  thumbnail: string;\r\n}\r\n\r\nexport type BookType = {\r\n  id: string;\r\n  imageLinks: ImageLinks;\r\n  title: string;\r\n  categories: string[];\r\n  authors: string[];\r\n  description: string;\r\n};\r\n\r\n/** FETCH_REQUEST - action for toggle isLoaded state meaning data either received or not.\\\r\n *  FETCH_ERROR - action for setting error if intercaction with server was failed. \\\r\n *  FETCH_SUCCESS - if response was received, set new books items in the store.\r\n */\r\nexport enum BooksActionTypes {\r\n  FETCH_REQUEST = '@@books/FETCH_REQUEST',\r\n  FETCH_ERROR = '@@books/FETCH_ERROR',\r\n  FETCH_SUCCESS = '@@books/FETCH_SUCCESS',\r\n  FETCH_ADD_ITEMS = '@@books/FETCH_ADD_ITEMS',\r\n  FETCH_TOTAL_ITEMS = '@@books/FETCH_TOTAL_ITEMS',\r\n  FETCH_PAGE = '@@books/FETCH_PAGE',\r\n  FETCH_ADD_PAGE = '@@books/FETCH_ADD_PAGE'\r\n}\r\n\r\nexport interface BooksState {\r\n  readonly items: Array<BookType>;\r\n  readonly loading: boolean;\r\n  readonly errors?: Record<string, string>;\r\n  readonly totalItems: number;\r\n  readonly page: number;\r\n}\r\n","export const BOOKS_API_ENDPOINT = 'https://www.googleapis.com/books/v1';\r\n\r\n/**\r\n * pagination step\r\n */\r\nexport const MAX_RESULTS = 30;\r\n","export interface FiltersState {\r\n  readonly category: string;\r\n  readonly sortBy: string;\r\n  readonly text: string;\r\n}\r\n\r\nexport enum FiltersActionTypes {\r\n  SET_CATEGORY = '@@filters/SET_CATEGORY',\r\n  SET_SORTBY = '@@filters/SET_SORTBY',\r\n  SET_TEXT = '@@filters/SET_TEXT',\r\n}\r\n","import { Reducer } from 'redux';\r\n\r\nimport { BooksActionTypes, BooksState } from './types';\r\nimport { BooksActions } from './actions';\r\nimport { MAX_RESULTS } from '../_constants';\r\n//import { MAX_RESULTS } from '../_constants';\r\n\r\nconst initialState: BooksState = {\r\n  items: [],\r\n  loading: false,\r\n  errors: {},\r\n  totalItems: 0,\r\n  page: 0,\r\n};\r\n\r\nconst booksReducer: Reducer<BooksState, BooksActions> = (\r\n  state = initialState,\r\n  action,\r\n): BooksState => {\r\n  switch (action.type) {\r\n    case BooksActionTypes.FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n        loading: false,\r\n        page: MAX_RESULTS,\r\n      };\r\n    case BooksActionTypes.FETCH_ADD_ITEMS:\r\n      return {\r\n        ...state,\r\n        items: [...state.items, ...action.payload],\r\n        loading: false,\r\n      };\r\n    case BooksActionTypes.FETCH_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case BooksActionTypes.FETCH_ERROR:\r\n      const newError = action.payload;\r\n      return {\r\n        ...state,\r\n        errors: newError,\r\n      };\r\n    case BooksActionTypes.FETCH_TOTAL_ITEMS:\r\n      return {\r\n        ...state,\r\n        totalItems: action.payload,\r\n      };\r\n    case BooksActionTypes.FETCH_PAGE:\r\n      return { ...state, page: action.payload };\r\n\r\n    case BooksActionTypes.FETCH_ADD_PAGE:\r\n      const newPage = state.page + action.payload;\r\n      return {\r\n        ...state,\r\n        page: newPage,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default booksReducer;\r\n","import { Reducer } from 'redux';\r\n\r\nimport { FiltersState, FiltersActionTypes } from './types';\r\nimport { FiltersActions } from './actions';\r\n\r\nconst initialState: FiltersState = {\r\n  sortBy: 'relevance',\r\n  category: '',\r\n  text: '',\r\n};\r\n\r\nconst filtersReducer: Reducer<FiltersState, FiltersActions> = (\r\n  state = initialState,\r\n  action,\r\n): FiltersState => {\r\n  switch (action.type) {\r\n    case FiltersActionTypes.SET_CATEGORY:\r\n      return { ...state, category: action.payload };\r\n    case FiltersActionTypes.SET_SORTBY:\r\n      return { ...state, sortBy: action.payload };\r\n    case FiltersActionTypes.SET_TEXT:\r\n      return { ...state, text: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default filtersReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport booksReducer from './books/reducer';\r\nimport filtersReducer from './filters/reducer';\r\nimport { BooksState } from './books/types';\r\nimport { FiltersState } from './filters/types';\r\n\r\nexport interface AppState {\r\n  books: BooksState;\r\n  filters: FiltersState;\r\n}\r\n\r\nconst rootReducer = combineReducers<AppState>({\r\n  books: booksReducer,\r\n  filters: filtersReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import { BookPayload, BookResponse, BookType } from './types';\r\n\r\nexport const createBooksFromAPIResponse = (volumes: BookResponse): BookPayload | null => {\r\n  const APIVolumes = {\r\n    totalItems: volumes.totalItems,\r\n    items: volumes.items,\r\n  };\r\n\r\n  if (APIVolumes.totalItems === 0) return null;\r\n\r\n  const newBooksStructure: BookType[] = APIVolumes.items.map((item) => ({\r\n    id: item.id,\r\n    imageLinks: item.volumeInfo.imageLinks,\r\n    title: item.volumeInfo.title,\r\n    categories: item.volumeInfo.categories,\r\n    authors: item.volumeInfo.authors,\r\n    description: item.volumeInfo.description,\r\n  }));\r\n\r\n  return { totalItems: APIVolumes.totalItems, items: newBooksStructure };\r\n};\r\n","import axios, { AxiosResponse } from 'axios';\r\nimport { ActionCreator, AnyAction, Dispatch } from 'redux';\r\n\r\nimport store from '../store';\r\n\r\nimport { BOOKS_API_ENDPOINT, MAX_RESULTS } from '../_constants';\r\nimport {\r\n  BooksSuccessAction,\r\n  BooksFailureAction,\r\n  BooksSetTotalItems,\r\n  BooksSetPageAction,\r\n  BooksRequestAction,\r\n  BooksAddItemsAction,\r\n} from './actions';\r\nimport { BookType, BooksActionTypes, BookResponse } from './types';\r\nimport { createBooksFromAPIResponse } from './typeGuard';\r\n/**\r\n * action creator\r\n * @param books\r\n * @returns\r\n */\r\nexport const fetchBooksActionCreator: ActionCreator<BooksSuccessAction> = (books: BookType[]) => ({\r\n  type: BooksActionTypes.FETCH_SUCCESS,\r\n  payload: books,\r\n});\r\n\r\n/**\r\n * action creator is infered to: const fetchBooksActionCreator: ActionCreator\r\n    (...args: any[]) => BooksSuccessAction\r\n * @param error error from async request/response\r\n * @returns \r\n */\r\nexport const setErrorActionCreator: ActionCreator<BooksFailureAction> = (\r\n  error: Record<string, string>,\r\n) => ({\r\n  type: BooksActionTypes.FETCH_ERROR,\r\n  payload: error,\r\n});\r\n\r\nexport const setTotalItemsActionCreator: ActionCreator<BooksSetTotalItems> = (\r\n  totalItems: number,\r\n) => ({\r\n  type: BooksActionTypes.FETCH_TOTAL_ITEMS,\r\n  payload: totalItems,\r\n});\r\n\r\nexport const setPageActionCreator: ActionCreator<BooksSetPageAction> = (page: number) => ({\r\n  type: BooksActionTypes.FETCH_PAGE,\r\n  payload: page,\r\n});\r\n\r\nexport const setRequestActionCreator: ActionCreator<BooksRequestAction> = () => ({\r\n  type: BooksActionTypes.FETCH_REQUEST,\r\n});\r\n\r\nexport const addBooksActionCreator: ActionCreator<BooksAddItemsAction> = (books: BookType[]) => ({\r\n  type: BooksActionTypes.FETCH_ADD_ITEMS,\r\n  payload: books,\r\n});\r\n\r\n/**\r\n * async thunk function to fetch {MAX_RESULTS} books from api\r\n * @param query user's search query\r\n * @returns\r\n */\r\nexport const fetchBooks = (action: ActionCreator<AnyAction>) => async (dispatch: Dispatch) => {\r\n  try {\r\n    dispatch(setRequestActionCreator());\r\n    const { books, filters } = store.getState();\r\n\r\n    const specificFields = `fields=(totalItems, items(id, volumeInfo(title, description, authors, imageLinks, categories)))`;\r\n\r\n    if (books.totalItems && books.page >= books.totalItems) return null;\r\n\r\n    const { data: response } = await axios.get<BookResponse, AxiosResponse<BookResponse>>(\r\n      `${BOOKS_API_ENDPOINT}/volumes?q=${filters.text}+subject:${\r\n        filters.category !== 'All' && filters.category ? `\"${filters.category}\"` : ''\r\n      }&orderBy=${filters.sortBy}&maxResults=${MAX_RESULTS}&startIndex=${books.page}` +\r\n        `&${specificFields}&filter=ebooks&key=${process.env.REACT_APP_GOOGLE_BOOKS_API_KEY}`,\r\n    );\r\n\r\n    const appBooks = createBooksFromAPIResponse(response);\r\n\r\n    if (!appBooks) return null;\r\n\r\n    dispatch(setTotalItemsActionCreator(appBooks.totalItems));\r\n\r\n    dispatch(\r\n      setPageActionCreator(\r\n        appBooks.totalItems - MAX_RESULTS > 0\r\n          ? books.page + MAX_RESULTS\r\n          : appBooks.totalItems - books.page,\r\n      ),\r\n    );\r\n\r\n    dispatch(action(appBooks.items));\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error)) {\r\n      console.error(error.toJSON());\r\n      dispatch(setErrorActionCreator(error.toJSON()));\r\n    } else {\r\n      console.error(error.message);\r\n      dispatch(setErrorActionCreator({ message: error.message as string }));\r\n    }\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport * as booksActions from '../redux/books/actionCreators';\r\n\r\ninterface ObserverProviderProps {\r\n  children: JSX.Element;\r\n}\r\n\r\nfunction ObserverProvider({ children }: ObserverProviderProps) {\r\n  const divRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function bottomScrollHandler() {\r\n    dispatch(booksActions.fetchBooks(booksActions.addBooksActionCreator));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (!divRef) return;\r\n    const options = {\r\n      root: null,\r\n      rootMargin: '0px',\r\n      threshold: 0.8,\r\n    };\r\n\r\n    const callback: IntersectionObserverCallback = function (entry) {\r\n      if (entry[0].isIntersecting) {\r\n        bottomScrollHandler();\r\n      }\r\n    };\r\n\r\n    const observer = new IntersectionObserver(callback, options);\r\n\r\n    observer.observe(divRef.current as HTMLDivElement);\r\n\r\n    return () => {\r\n      console.log('unobserve');\r\n      observer.unobserve(divRef.current as HTMLDivElement);\r\n    };\r\n  });\r\n\r\n  // ????\r\n  return React.cloneElement(children, { ref: divRef });\r\n}\r\n\r\nexport default ObserverProvider;\r\n","var _path, _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDownArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 490.688 490.688\",\n    style: {\n      enableBackground: \"new 0 0 490.688 490.688\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFC107\"\n    },\n    d: \"M472.328,120.529L245.213,347.665L18.098,120.529c-4.237-4.093-10.99-3.975-15.083,0.262 c-3.992,4.134-3.992,10.687,0,14.82l234.667,234.667c4.165,4.164,10.917,4.164,15.083,0l234.667-234.667 c4.237-4.093,4.354-10.845,0.262-15.083c-4.093-4.237-10.845-4.354-15.083-0.262c-0.089,0.086-0.176,0.173-0.262,0.262 L472.328,120.529z\"\n  }), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M245.213,373.415c-2.831,0.005-5.548-1.115-7.552-3.115L2.994,135.633c-4.093-4.237-3.975-10.99,0.262-15.083 c4.134-3.992,10.687-3.992,14.82,0l227.136,227.115l227.115-227.136c4.093-4.237,10.845-4.354,15.083-0.262 c4.237,4.093,4.354,10.845,0.262,15.083c-0.086,0.089-0.173,0.176-0.262,0.262L252.744,370.279 C250.748,372.281,248.039,373.408,245.213,373.415z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDownArrow);\nexport default __webpack_public_path__ + \"static/media/down-arrow.e5284d57.svg\";\nexport { ForwardRef as ReactComponent };","import { ActionCreator } from 'redux';\r\n\r\nimport { FiltersActionTypes } from './types';\r\nimport { SetCategoryAction, SetSortByAction, SetTextAction } from './actions';\r\n\r\nexport const setCategoryActionCreator: ActionCreator<SetCategoryAction> = (category: string) => ({\r\n  type: FiltersActionTypes.SET_CATEGORY,\r\n  payload: category,\r\n});\r\n\r\nexport const setSortbyActionCreator: ActionCreator<SetSortByAction> = (sortby: string) => ({\r\n  type: FiltersActionTypes.SET_SORTBY,\r\n  payload: sortby,\r\n});\r\n\r\nexport const setTextActionCreator: ActionCreator<SetTextAction> = (text: string) => ({\r\n  type: FiltersActionTypes.SET_TEXT,\r\n  payload: text,\r\n});\r\n","var _path, _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUpArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 490.523 490.523\",\n    style: {\n      enableBackground: \"new 0 0 490.523 490.523\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      fill: \"#FFC107\"\n    },\n    d: \"M487.411,355.047L252.744,120.38c-4.165-4.164-10.917-4.164-15.083,0L2.994,355.047 c-4.093,4.237-3.976,10.99,0.262,15.083c4.134,3.993,10.687,3.993,14.821,0l227.115-227.115l227.115,227.136 c4.237,4.093,10.99,3.976,15.083-0.261c3.993-4.134,3.993-10.688,0-14.821L487.411,355.047z\"\n  }), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M479.859,373.266c-2.831,0.005-5.548-1.115-7.552-3.115L245.192,143.015L18.077,370.151 c-4.237,4.093-10.99,3.976-15.083-0.262c-3.993-4.134-3.993-10.687,0-14.821l234.667-234.667c4.165-4.164,10.917-4.164,15.083,0 l234.667,234.667c4.159,4.172,4.148,10.926-0.024,15.085C485.388,372.146,482.681,373.265,479.859,373.266z\"\n  })), _g || (_g = /*#__PURE__*/React.createElement(\"g\", null)), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpArrow);\nexport default __webpack_public_path__ + \"static/media/up-arrow.f2fb7a8d.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components';\r\nimport { Justify } from './types';\r\n\r\nexport const InputContainer = styled.div`\r\n  position: relative;\r\n  padding-top: 2.4rem;\r\n  // color: rgb(118, 118, 118);\r\n  flex-basis: ${(props: InputContainer) => {\r\n    const styles: Justify = { fluid: '100%', default: '', half: '50%' };\r\n    return styles[props.justify];\r\n  }};\r\n  width: ${(props: InputContainer): string => props.widthOfField};\r\n`;\r\n\r\ninterface InputContainer {\r\n  justify: keyof Justify;\r\n  widthOfField: string;\r\n}\r\n\r\nexport default InputContainer;\r\n","import styled from 'styled-components';\r\n\r\ninterface LabelProps {\r\n  selected: boolean;\r\n  opened: boolean;\r\n}\r\n\r\nconst InputLabel = styled.label<LabelProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 1rem;\r\n  pointer-events: none;\r\n  transform-origin: top left;\r\n  transform: translateY(\r\n    ${(props) => (props.selected || props.opened ? '0' : '3.2rem')}\r\n  );\r\n  transition: all 0.2s ease;\r\n  @media (max-width: 960px) {\r\n    transform: translateY(\r\n      ${(props) => (props.selected || props.opened ? '0' : '3.6rem')}\r\n    );\r\n  }\r\n  @media (max-width: 600px) {\r\n    transform: translateY(\r\n      ${(props) => (props.selected || props.opened ? '0' : '3.8rem')}\r\n    );\r\n  }\r\n`;\r\n\r\nexport default InputLabel;\r\n","import styled from 'styled-components';\r\n\r\nimport { Size } from '../types';\r\n\r\n/**\r\n * Simple custom select\r\n */\r\n\r\ninterface SelectFieldContainerProps {\r\n  size: keyof Size;\r\n}\r\n\r\nconst SelectFieldContainer = styled.div`\r\n  display: flex;\r\n  border-radius: 1.5rem;\r\n  padding-left: 1rem;\r\n  background-color: #ffffff;\r\n  height: ${(props: SelectFieldContainerProps): string => {\r\n    const styles: Size = { small: '4rem', regular: '6rem' };\r\n    return styles[props.size];\r\n  }};\r\n  width: 100%;\r\n  &:focus {\r\n    outline: 2px solid black;\r\n  }\r\n`;\r\n\r\nexport default SelectFieldContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst SelectPopup = styled(SPopup)`\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  width: 100%;\r\n  max-height: 20rem;\r\n  border-radius: 0.5rem;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 0 0.5rem 0 rgb(118, 118, 118);\r\n  overflow-y: auto;\r\n  cursor: pointer;\r\n  z-index: 2;\r\n  & div {\r\n    overflow: hidden;\r\n    padding: 0.5rem;\r\n    border-radius: 0.5rem;\r\n  }\r\n  & div:hover {\r\n    background-color: rgb(118, 118, 118);\r\n    color: #ffffff;\r\n  }\r\n`;\r\n\r\ninterface SPopup {\r\n  items: string[];\r\n  className: string;\r\n  open: boolean;\r\n  onClose: () => void;\r\n  handleSelect: (str: string) => void;\r\n}\r\n\r\nfunction SPopup(props: SPopup) {\r\n  const ref = React.useRef<HTMLDivElement>(null);\r\n\r\n  const handleClick: React.MouseEventHandler<HTMLDivElement> = (e: React.MouseEvent): void => {\r\n    if (props.open && ref.current && !ref.current.contains(e.target as HTMLElement))\r\n      props.onClose();\r\n  };\r\n\r\n  // React.useEffect(() => {\r\n  //   document.addEventListener('click', handleClick);\r\n  //   return () => {\r\n  //     document.removeEventListener('click', handleClick);\r\n  //   };\r\n  // }, [props.open]);\r\n\r\n  return (\r\n    <>\r\n      {props.open && (\r\n        <div ref={ref} className={props.className} onClick={handleClick}>\r\n          {props.items.map((item, i) => (\r\n            <div key={`${item}+${i}`} onClick={() => props.handleSelect(item)}>\r\n              {item}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SelectPopup;\r\n","import styled from 'styled-components';\r\n\r\nimport { Size } from './types';\r\n\r\ninterface IconContainerProps {\r\n  size: keyof Size;\r\n}\r\n\r\nconst IconContainer = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 1rem;\r\n  margin-left: auto;\r\n  width: ${(props: IconContainerProps): string => {\r\n    const styles = { small: '4rem', regular: '6rem' };\r\n    return styles[props.size];\r\n  }};\r\n  cursor: pointer;\r\n`;\r\n\r\nexport default IconContainer;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { ReactComponent as ArrowDowm } from '../../assets/down-arrow.svg';\r\nimport { ReactComponent as ArrowUp } from '../../assets/up-arrow.svg';\r\n\r\nimport InputContainer from './InputContainer';\r\nimport Label from './SelectFieldComponents/SelectLabel';\r\nimport SelectFieldContainer from './SelectFieldComponents/SelectFieldContainer';\r\nimport SelectPopup from './SelectFieldComponents/SelectPopup';\r\nimport IconContainer from './IconContainer';\r\n\r\ntype Size = { small: string; regular: string };\r\n\r\ninterface DatalistSelectFieldProps {\r\n  value: string;\r\n  label: string;\r\n  options: string[];\r\n  placeholder: string;\r\n  size?: keyof Size;\r\n  onChange: (category: string) => void;\r\n  handleSelect: (category: string) => void;\r\n}\r\n\r\nconst OptionsFilter = styled.input`\r\n  width: 100%;\r\n  border-style: none;\r\n  border-radius: 1.5rem;\r\n  outline: none;\r\n`;\r\n\r\n/**\r\n * Custom input-datalist element. The elements can be resized, text search was implemented by\r\n * array prototype functions.\r\n */\r\nfunction DatalistSelectField({\r\n  value,\r\n  placeholder,\r\n  label,\r\n  options,\r\n  size = 'regular',\r\n  onChange,\r\n  handleSelect,\r\n}: DatalistSelectFieldProps) {\r\n  const [openList, setOpenList] = React.useState<boolean>(false);\r\n\r\n  return (\r\n    <InputContainer>\r\n      <SelectPopup\r\n        items={options.filter((item) => item.includes(value))}\r\n        className=\"\"\r\n        open={openList}\r\n        onClose={() => setOpenList(false)}\r\n        handleSelect={(item: string) => {\r\n          handleSelect(item);\r\n          setOpenList(false);\r\n        }}\r\n      />\r\n      <SelectFieldContainer tabIndex={2} size={size} onClick={() => setOpenList(true)}>\r\n        <Label selected={true} opened={openList}>\r\n          {label}\r\n        </Label>\r\n\r\n        <OptionsFilter\r\n          value={value}\r\n          placeholder={placeholder}\r\n          onChange={(e) => {\r\n            onChange(e.target.value);\r\n          }}></OptionsFilter>\r\n        <IconContainer size={size}>{openList ? <ArrowUp /> : <ArrowDowm />}</IconContainer>\r\n      </SelectFieldContainer>\r\n    </InputContainer>\r\n  );\r\n}\r\n\r\nexport default DatalistSelectField;\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512.005 512.005\",\n    style: {\n      enableBackground: \"new 0 0 512.005 512.005\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667 S0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6 c4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z  M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.28b0ad10.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { ReactComponent as SearchButton } from '../../assets/search.svg';\r\nimport styled from 'styled-components';\r\n\r\nimport InputContainer from './InputContainer';\r\nimport { Size } from './types';\r\n\r\n/**\r\n * simple text input field with search icon\r\n */\r\n\r\ninterface StyledSearchFieldProps {\r\n  size: keyof Size;\r\n}\r\n\r\nconst StyledSearchField = styled.div<StyledSearchFieldProps>`\r\n  display: flex;\r\n  background-color: #ffffff;\r\n  border-radius: 15px;\r\n  height: ${(props): string => {\r\n    const styles: Size = { small: '4rem', regular: '6rem' };\r\n    return styles[props.size];\r\n  }};\r\n  &:focus {\r\n    outline: 2px solid black;\r\n  }\r\n`;\r\n\r\ninterface IconContainerProps {\r\n  size: keyof Size;\r\n  disable: boolean;\r\n}\r\n\r\nconst IconContainer = styled.span<IconContainerProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 1rem;\r\n  width: ${(props): string => {\r\n    const styles = { small: '4rem', regular: '6rem' };\r\n    return styles[props.size];\r\n  }};\r\n  cursor: pointer;\r\n  pointer-events: ${(props): string => (props.disable ? 'none' : '')};\r\n`;\r\n\r\nconst InputField = styled.input`\r\n  width: 100%;\r\n  padding: 1rem;\r\n  border-radius: 1.5rem;\r\n  border-style: none;\r\n  outline: none;\r\n`;\r\n\r\ninterface SearchFieldProps {\r\n  type: string;\r\n  placeholder: string;\r\n  size?: keyof Size;\r\n  required: boolean;\r\n  value: string;\r\n  onChange: (text: string) => void;\r\n  handleSubmit: (text: string) => void;\r\n  disable: boolean;\r\n}\r\n\r\nfunction SearchField({\r\n  type,\r\n  placeholder,\r\n  required,\r\n  size = 'regular',\r\n  value = '',\r\n  onChange,\r\n  handleSubmit,\r\n  disable,\r\n}: SearchFieldProps) {\r\n  const keyHandler = (event: React.KeyboardEvent<HTMLInputElement> | globalThis.KeyboardEvent) => {\r\n    if (event.code === 'Enter' || event.code === 'NumpadEnter') {\r\n      if (disable) return;\r\n      event.preventDefault();\r\n      handleSubmit(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <InputContainer>\r\n      <StyledSearchField size={size} tabIndex={1}>\r\n        <IconContainer size={size} onClick={() => handleSubmit(value)} disable={disable}>\r\n          <SearchButton />\r\n        </IconContainer>\r\n        <InputField\r\n          type={type}\r\n          value={value}\r\n          placeholder={placeholder}\r\n          onChange={(e) => onChange(e.target.value)}\r\n          required={required}\r\n          onKeyDown={keyHandler}\r\n        />\r\n      </StyledSearchField>\r\n    </InputContainer>\r\n  );\r\n}\r\n\r\nexport default SearchField;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { ReactComponent as ArrowDowm } from '../../assets/down-arrow.svg';\r\nimport { ReactComponent as ArrowUp } from '../../assets/up-arrow.svg';\r\nimport SelectPopup from './SelectFieldComponents/SelectPopup';\r\nimport Label from './SelectFieldComponents/SelectLabel';\r\nimport SelectFieldContainer from './SelectFieldComponents/SelectFieldContainer';\r\nimport { Size } from './types';\r\nimport IconContainer from './IconContainer';\r\nimport InputContainer from './InputContainer';\r\n\r\nconst Text = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: hidden;\r\n`;\r\n\r\ninterface SelectFieldProps {\r\n  label: string;\r\n  options: string[];\r\n  size?: keyof Size;\r\n  value: string;\r\n  onChange: (option: string) => void;\r\n}\r\n\r\n/**\r\n *  simple custom select\r\n * @param param0 size - union of 'small', 'regular', 'default'\r\n * @returns\r\n */\r\nfunction Select({ label, options, size = 'regular', value, onChange }: SelectFieldProps) {\r\n  const optionItems = React.useRef<string[]>(options);\r\n  const [openItem, setOpenItems] = React.useState<boolean>(false);\r\n\r\n  return (\r\n    <InputContainer>\r\n      <SelectPopup\r\n        items={optionItems.current}\r\n        className=\"\"\r\n        open={openItem}\r\n        onClose={() => setOpenItems(false)}\r\n        handleSelect={(item: string) => {\r\n          onChange(item);\r\n          setOpenItems(false);\r\n        }}\r\n      />\r\n      <SelectFieldContainer tabIndex={3} size={size} onClick={() => setOpenItems(true)}>\r\n        <Label selected={Boolean(value)} opened={openItem}>\r\n          {label}\r\n        </Label>\r\n        <Text>{value}</Text>\r\n        <IconContainer size={size}>{openItem ? <ArrowUp /> : <ArrowDowm />}</IconContainer>\r\n      </SelectFieldContainer>\r\n    </InputContainer>\r\n  );\r\n}\r\n\r\nexport default Select;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport resources from '../resources.json';\r\nimport * as booksActions from '../redux/books/actionCreators';\r\nimport * as filtersActions from '../redux/filters/actionCreators';\r\nimport DatalistSelect from './searchForm/DatalistSelectField';\r\nimport SearchField from './searchForm/SearchField';\r\nimport SelectField from './searchForm/SelectField';\r\nimport { AppState } from '../redux';\r\n\r\nfunction SearchForm() {\r\n  const dispatch = useDispatch();\r\n  const { text, sortBy, category } = useSelector((state: AppState) => state.filters);\r\n  const { loading } = useSelector((state: AppState) => state.books);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"search-field\">\r\n        <SearchField\r\n          type=\"text\"\r\n          placeholder=\"\r\n          Search books\"\r\n          required={true}\r\n          size=\"small\"\r\n          onChange={(text) => {\r\n            dispatch(filtersActions.setTextActionCreator(text));\r\n          }}\r\n          disable={loading}\r\n          handleSubmit={() => {\r\n            dispatch(filtersActions.setTextActionCreator(text));\r\n            dispatch(booksActions.setPageActionCreator(0)); // set api pagination counter to 0\r\n            dispatch(booksActions.fetchBooks(booksActions.fetchBooksActionCreator)); // clear previous books state, and fetch new MAX_RESULTS books\r\n          }}\r\n          value={text}\r\n        />\r\n      </div>\r\n      <div className=\"datalist-select-field\">\r\n        <DatalistSelect\r\n          label=\"Book category\"\r\n          options={resources['datalist-options']}\r\n          placeholder=\"All\"\r\n          size=\"small\"\r\n          value={category}\r\n          onChange={(category) => {\r\n            dispatch(filtersActions.setCategoryActionCreator(category));\r\n          }}\r\n          handleSelect={(category) => {\r\n            dispatch(filtersActions.setCategoryActionCreator(category));\r\n            dispatch(booksActions.setPageActionCreator(0));\r\n            dispatch(booksActions.fetchBooks(booksActions.fetchBooksActionCreator));\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"select-field\">\r\n        <SelectField\r\n          label=\"Sort by\"\r\n          size=\"small\"\r\n          options={resources['select-options']}\r\n          value={sortBy}\r\n          onChange={(option) => {\r\n            dispatch(filtersActions.setSortbyActionCreator(option));\r\n            dispatch(booksActions.setPageActionCreator(0));\r\n            dispatch(booksActions.fetchBooks(booksActions.fetchBooksActionCreator));\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport { BookType } from '../redux/books/types';\r\n\r\nfunction Book(props: BookType) {\r\n  return (\r\n    <div className=\"book\">\r\n      <div className=\"book__cover-container\">\r\n        <img className=\"book__cover\" src={props.imageLinks.smallThumbnail} />\r\n      </div>\r\n      <p className=\"book__category\">{props.categories?.length && props.categories[0]}</p>\r\n      <p className=\"book__title\">{props.title}</p>\r\n      <p className=\"book__author\">{props.authors}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Book;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport Book from './Book';\r\nimport { AppState } from '../redux/';\r\n\r\nfunction Shelf() {\r\n  const { items: books, totalItems } = useSelector((state: AppState) => state.books);\r\n\r\n  return (\r\n    <>\r\n      <h3 className=\"shelf__counter\">{totalItems} books in total</h3>\r\n      <main className=\"shelf\">\r\n        {/* Somehow API returns books with the same ids, but rarely  */}\r\n        {Object.values(books).map((book, id) => (\r\n          <Book key={`${book.id}+${id}`} {...book} />\r\n        ))}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Shelf;\r\n","var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgRefresh(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 458.186 458.186\",\n    style: {\n      enableBackground: \"new 0 0 458.186 458.186\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M445.651,201.95c-1.485-9.308-10.235-15.649-19.543-14.164c-9.308,1.485-15.649,10.235-14.164,19.543 c0.016,0.102,0.033,0.203,0.051,0.304c17.38,102.311-51.47,199.339-153.781,216.719c-102.311,17.38-199.339-51.47-216.719-153.781 S92.966,71.232,195.276,53.852c62.919-10.688,126.962,11.29,170.059,58.361l-75.605,25.19 c-8.944,2.976-13.781,12.638-10.806,21.582c0.001,0.002,0.002,0.005,0.003,0.007c2.976,8.944,12.638,13.781,21.582,10.806 c0.003-0.001,0.005-0.002,0.007-0.002l102.4-34.133c6.972-2.322,11.675-8.847,11.674-16.196v-102.4 C414.59,7.641,406.949,0,397.523,0s-17.067,7.641-17.067,17.067v62.344C292.564-4.185,153.545-0.702,69.949,87.19 s-80.114,226.911,7.779,310.508s226.911,80.114,310.508-7.779C435.905,339.799,457.179,270.152,445.651,201.95z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRefresh);\nexport default __webpack_public_path__ + \"static/media/refresh.a1562e19.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n`;\r\n\r\ninterface ModalProps {\r\n  children: JSX.Element | JSX.Element[];\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nfunction Modal({ children, open, onClose }: ModalProps) {\r\n  const divRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const handleClick: React.MouseEventHandler<HTMLDivElement> = (e: React.MouseEvent) => {\r\n\r\n    const node = e.target as HTMLElement;\r\n    console.log(node, divRef.current);\r\n\r\n    node && node.contains(divRef.current) ? onClose() : '';\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {open && (\r\n        <Container ref={divRef} onClick={handleClick}>\r\n          {children}\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import React, { RefObject } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport SearchForm from '../components/SearchForm';\r\nimport Shelf from '../components/Shelf';\r\nimport { ReactComponent as LoadingIcon } from '../assets/refresh.svg';\r\nimport { AppState } from '../redux/index';\r\nimport Modal from '../components/Modal';\r\n\r\nconst AppContainerWithRef = React.forwardRef<HTMLDivElement, React.ComponentPropsWithRef<'div'>>(\r\n  SearchingPage,\r\n);\r\n\r\n// forwardRef typing bypass...\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction SearchingPage(props: any, ref: any) {\r\n  const { loading } = useSelector((state: AppState) => state.books);\r\n  const [openModal, setOpenModal] = React.useState<boolean>(false);\r\n\r\n  function handleModalClose() {\r\n    setOpenModal(false);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Modal open={openModal} onClose={handleModalClose}>\r\n        <div style={{ height: '200px', backgroundColor: 'red' }}> test</div>\r\n      </Modal>\r\n      <div className=\"search\">\r\n        <header className=\"header\">\r\n          <h1 onClick={() => setOpenModal(true)}>Explore new horizons</h1>\r\n          <div className=\"searchform\">\r\n            <SearchForm />\r\n          </div>\r\n        </header>\r\n        <Shelf />\r\n      </div>\r\n      <div className=\"search__loading\" ref={ref as RefObject<HTMLDivElement>}>\r\n        {loading && <LoadingIcon className=\"search__loading-icon\" />}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AppContainerWithRef;\r\n","import React from 'react';\nimport ObserverProvider from './components/ObserverProvider';\n\nimport SearchingPage from './pages/SearchingPage';\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <ObserverProvider>\n        <SearchingPage />\n      </ObserverProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\n\nimport 'normalize.css';\nimport './sass/main.sass';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}